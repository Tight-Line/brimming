<%# Upvote-only button for articles %>
<%
  user_upvoted = user_signed_in? && article.upvoted_by?(current_user)
%>

<div class="vote-controls" id="article-<%= article.id %>-votes">
  <% if user_signed_in? %>
    <% if user_upvoted %>
      <%= button_to remove_vote_article_path(article),
                   method: :delete,
                   class: "vote-btn vote-btn-up active",
                   title: "Remove upvote",
                   data: { turbo_stream: true } do %>
        <span class="vote-arrow">&#9650;</span>
      <% end %>
    <% else %>
      <%= button_to upvote_article_path(article),
                   method: :post,
                   class: "vote-btn vote-btn-up",
                   title: "Upvote",
                   data: { turbo_stream: true } do %>
        <span class="vote-arrow">&#9650;</span>
      <% end %>
    <% end %>
  <% else %>
    <button type="button" class="vote-btn vote-btn-up" title="Sign in to vote" data-action="modal#open">
      <span class="vote-arrow">&#9650;</span>
    </button>
  <% end %>

  <span class="vote-count<%= ' positive' if article.vote_score > 0 %>">
    <%= article.vote_score %>
  </span>
</div>
